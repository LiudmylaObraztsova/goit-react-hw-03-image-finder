{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Container/Container.module.css","components/Button/Button.module.css","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Container/Container.js","components/Searchbar/Searchbar.js","api/imageApi.js","components/Modal/Modal.js","components/Button/Button.js","App.js","reportWebVitals.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","ImageGalleryItem","image","tags","largeImageURL","onClickModal","className","style","imageGalleryItem","imageGalleryItemImage","src","alt","onClick","defaultProps","ImageGallery","images","onImgClick","imageGallery","map","id","webformatURL","Container","children","container","Searchbar","state","query","seachImagesByTags","imgTags","setState","currentTarget","value","handleSubmit","e","preventDefault","props","onSubmit","this","searchbar","searchForm","type","searchFormButton","searchFormButtonLabel","searchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","axios","defaults","baseURL","searchQuery","currentPage","perPage","get","then","res","data","hits","modalRoot","document","querySelector","Modal","handleKeyDown","сode","onClose","handleBackdropClick","event","target","window","addEventListener","removeEventListener","backdropClick","createPortal","overlay","modal","Button","App","isLoading","showModal","modalImg","fetchImg","options","Api","length","toast","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","info","prevState","scrollTo","top","documentElement","scrollHeight","behavior","catch","error","finally","onChangeQuery","trim","toggleModal","openModal","console","log","prevProps","shouldRenderLoadMoreButton","message","color","height","width","timeout","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1fdd221e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__2Co1r\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__26xMT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3u_Fh\",\"modal\":\"Modal_modal__1vOC2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__IVfP1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__EyX72\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__r91MK\"};","import React from 'react';\r\nimport style from './ImageGalleryItem.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ image, tags, largeImageURL, onClickModal }) => {\r\n  return (\r\n    <li className={style.imageGalleryItem}>\r\n      <img\r\n        className={style.imageGalleryItemImage}\r\n        src={image}\r\n        alt={tags}\r\n        onClick={() => onClickModal(largeImageURL)}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.defaultProps = {\r\n  image:\r\n    'https://www.salonlfc.com/wp-content/uploads/2018/01/image-not-found-scaled.png',\r\n  tags: '',\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.string,\r\n  tags: PropTypes.string,\r\n};\r\n\r\nexport default ImageGalleryItem;","import React from 'react';\r\nimport style from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({ images, onImgClick }) => (\r\n  <ul className={style.imageGallery}>\r\n    {images.map(({ id, webformatURL, tags, largeImageURL }) => (\r\n      <ImageGalleryItem\r\n        key={id}\r\n        image={webformatURL}\r\n        tags={tags}\r\n        largeImageURL={largeImageURL}\r\n        onClickModal={onImgClick}\r\n      />\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.shape.isRequired,\r\n    }),\r\n  ).isRequired,\r\n};\r\n\r\nexport default ImageGallery;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport style from './Container.module.css';\r\n\r\nconst Container = ({ children }) => {\r\n  return <div className={style.container}>{children}</div>;\r\n};\r\n\r\nContainer.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default Container;","import React, { Component } from 'react';\r\nimport style from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  seachImagesByTags = imgTags => {\r\n    this.setState({ query: imgTags.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    const { query } = this.state;\r\n    return (\r\n      <header className={style.searchbar}>\r\n        <form className={style.searchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={style.searchFormButton}>\r\n            <span className={style.searchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={style.searchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={query}\r\n            onChange={this.seachImagesByTags}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api/';\r\n\r\nconst apiKey = '22061435-2d2a9a5944c625b4390ff8963';\r\n\r\nconst fetchImg = ({ searchQuery, currentPage = 1, perPage = 12 }) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${searchQuery}&per_page=${perPage}&key=${apiKey}&page=${currentPage}`,\r\n    )\r\n    .then(res => res.data.hits);\r\n};\r\n\r\nexport default {fetchImg};","import React, { Component } from 'react';\r\nimport style from './Modal.module.css';\r\nimport { createPortal } from 'react-dom';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.сode === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n    const backdropClick = this.handleBackdropClick;\r\n\r\n    return createPortal(\r\n      <div className={style.overlay} onClick={backdropClick}>\r\n        <div className={style.modal}>{children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport style from './Button.module.css';\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button type=\"button\" onClick={onClick} className={style.Button}>\r\n      Load more ...\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;","import { Component } from 'react';\n import { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n  import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport ImageGallery from './components/ImageGallery';\nimport Container from './components/Container';\nimport Seachbar from './components/Searchbar/Searchbar';\nimport Api from './api/imageApi';\n\nimport Modal from './components/Modal/Modal';\nimport Button from './components/Button';\n\nclass App extends Component {\n  state = {\n    images: [],\n    isLoading: false,\n    showModal: false,\n    searchQuery: '',\n    currentPage: 1,\n    modalImg: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImg();\n    }\n  }\n\n  fetchImg = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = { searchQuery, currentPage };\n\n    this.setState({ isLoading: true });\n\n    if (!searchQuery) {\n      return;\n    }\n\n    Api.fetchImg(options)\n      .then(hits => {\n        if (hits.length > 0) {\n                    toast.success('We have a picture for you!', {\n                        position: 'bottom-right',\n                        autoClose: 1000,\n                        hideProgressBar: false,\n                        closeOnClick: true,\n                        pauseOnHover: true,\n                        draggable: true,\n                        progress: undefined,\n                    });\n                }\n\n                if (hits.length === 0) {\n                    toast.info('Picture is not found', {\n                        position: 'bottom-right',\n                        autoClose: 1000,\n                        hideProgressBar: false,\n                        closeOnClick: true,\n                        pauseOnHover: true,\n                        draggable: true,\n                        progress: undefined,\n                    });\n                }\n        this.setState(prevState => ({\n          images: [...prevState.images, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoading: false });\n      });\n  };\n\n  onChangeQuery = query => {\n    this.setState({\n      searchQuery: query.trim(),\n      currentPage: 1,\n      images: [],\n      error: null,\n    });\n  };\n\n  toggleModal = () => {\n    this.setState({\n      showModal: false,\n      modalImg: '',\n    });\n  };\n\n  openModal = largeImageURL => {\n    this.setState({\n      showModal: true,\n      modalImg: largeImageURL,\n    });\n\n    console.log(this.state.modalImg);\n  };\n\n  render() {\n    const { images, isLoading, error, showModal, modalImg } = this.state;\n    const shouldRenderLoadMoreButton = images.length > 0 && !isLoading;\n\n    return (\n      <>\n        <Seachbar onSubmit={this.onChangeQuery} />\n\n        {error && <p>Whoops, something went wrong: {error.message}</p>}\n\n        <Container>\n          {isLoading && (\n            <Loader\n              type=\"Circles\"\n              color=\"#3f51b5\"\n              height={100}\n              width={100}\n              timeout={3000}\n            />\n          )}\n          {<ImageGallery images={images} onImgClick={this.openModal} />}\n\n          {shouldRenderLoadMoreButton && <Button onClick={this.fetchImg} />}\n\n          {showModal && (\n            <Modal onClose={this.toggleModal}>\n              <img src={modalImg} alt=\"\" />\n            </Modal>\n          )}\n          <ToastContainer />\n        </Container>\n      </>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__18_x-\",\"searchForm\":\"Searchbar_searchForm__1qyoE\",\"searchFormButton\":\"Searchbar_searchFormButton__1b2Pi\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__1Tc9X\",\"searchFormInput\":\"Searchbar_searchFormInput__1IHYO\"};"],"sourceRoot":""}